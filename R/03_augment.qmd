---
title: "03_augment"
author: "Julie Bruun Brockhoff (s204519), Cecilie Kejlberg Leth (s204584), Amalie Drud Nielsen (s204560), Chrysillis Hellemann Polhaus (s153664), Lise Lotte Eriksen (s154123)"
format: 
  html:
    embed-resources: true
editor: visual
---

### Adding variables

### Load packages

```{r}
library(tidyverse)
```

### Load data

```{r}
data <- read_tsv("data/02_dat_clean.tsv")
```

### Log2FC

```{r}
aug_data <- data |> 
  mutate(log2FC_OVCAR3 = log2( (OVCAR_KO+1) / (OVCAR3_MOCK+1) ),
         log2FC_SKOV = log2( (SKOV_KO+1) / (SKOV_MOCK+1))
  )
```

### Upregulated vs downregulated

```{r}
aug_data_ <- aug_data |> 
  mutate(DEG_SKOV3 = case_when(log2FC_SKOV > 0 ~ "Upregulated",
                       log2FC_SKOV < 0 ~ "Downregulated",
                       log2FC_SKOV == 0 ~ "Neutral"
                       )
  )
```

### Save data for later use

```{r}
#Then save it to the data folder for later use 
write_tsv(aug_data, "data/03_dat_aug.tsv")
```
